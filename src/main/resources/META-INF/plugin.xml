<idea-plugin>
    <id>com.github.jameslewis.easyworktrees</id>
    <name>Easy Worktrees</name>
    <vendor url="https://github.com/JamesBLewis/easy-worktrees">James Lewis</vendor>

    <description><![CDATA[
    <p>Manage Git worktrees directly from the Git tool window. No extra sidebar icons, no clutter — just a <b>Worktrees</b> tab alongside Log and Console.</p>

    <p>Built for developers who use <code>git worktree</code> heavily, especially with agentic coding tools like Claude Code.</p>

    <h3>Getting Started</h3>
    <p>Install the plugin and restart your IDE. Open any project that uses git worktrees, then open the <b>Git</b> tool window at the bottom of your IDE. You'll see a new <b>Worktrees</b> tab alongside Log and Console. Click it to see all your worktrees listed with their branch, path, and commit. Double-click any row to switch the current window to that worktree. Use the search field to filter by branch name or path. Click <b>Switch to Main Worktree</b> in the toolbar to instantly jump to whichever worktree has master or main checked out — no need to remember which directory it's in. Right-click any row for more options including opening in a new window or copying the path.</p>

    <h3>Features</h3>
    <ul>
        <li><b>Switch to main/master</b> — One click to jump to whichever worktree has your primary branch checked out</li>
        <li><b>Search worktrees</b> — Real-time filtering by branch name or path</li>
        <li><b>Integrated in Git tool window</b> — Lives alongside Log, Console, etc.</li>
        <li><b>Double-click to switch</b> — Switches the current window to the selected worktree</li>
        <li><b>Open in new window</b> — Right-click option to open in a separate IDE window</li>
        <li><b>Current worktree highlighting</b> — Your current worktree is bolded in the table</li>
    </ul>
    ]]></description>

    <change-notes><![CDATA[
    <h3>1.1.0</h3>
    <ul>
        <li>Sortable Branch and Path columns (click header to toggle ascending/descending)</li>
        <li>Native IntelliJ sort indicators in column headers</li>
        <li>Fixed plugin icon display in IDE plugin manager</li>
        <li>Added marketplace badges and improved plugin description</li>
    </ul>
    <h3>1.0.0</h3>
    <ul>
        <li>Initial release</li>
        <li>Worktrees tab integrated into the Git tool window</li>
        <li>One-click switch to main/master/trunk worktree</li>
        <li>Real-time search filtering by branch name or path</li>
        <li>Double-click to switch current window to a worktree</li>
        <li>Right-click context menu: Switch to Worktree, Open in New Window, Copy Path</li>
        <li>Current worktree highlighted in bold</li>
    </ul>
    ]]></change-notes>

    <depends>com.intellij.modules.platform</depends>
    <depends>Git4Idea</depends>

    <extensions defaultExtensionNs="com.intellij">
        <changesViewContent
                tabName="Worktrees"
                className="com.github.jameslewis.easyworktrees.ui.WorktreeContentProvider"/>

        <notificationGroup id="Easy Worktrees"
                           displayType="BALLOON"/>
    </extensions>

    <actions>
        <action id="EasyWorktrees.SwitchToMain"
                class="com.github.jameslewis.easyworktrees.actions.SwitchToMainAction"
                text="Switch to Main Worktree"
                description="Open the worktree that has master/main/trunk checked out"
                icon="AllIcons.Vcs.Branch">
            <add-to-group group-id="VcsGroups" anchor="last"/>
        </action>

        <action id="EasyWorktrees.Refresh"
                class="com.github.jameslewis.easyworktrees.actions.RefreshWorktreesAction"
                text="Refresh Worktrees"
                description="Refresh the worktree list"
                icon="AllIcons.Actions.Refresh"/>
    </actions>
</idea-plugin>
